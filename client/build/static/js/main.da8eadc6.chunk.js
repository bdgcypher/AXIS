(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{290:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(30),r=n.n(c),i=n(14),l=n(57),d=n(578),o=n(65),j=(n(289),n(290),n(16)),u=n(6),h=n(576),b=n.p+"static/media/AxisLogo.f89da7c8.png",m=n(17),O=n.n(m),p=n(31),x=n(243),g=n(55),v=n(1),f=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,s,c,r,l,d,o,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,a=t.setActiveChannel,s=t.channel,c=t.setChannel,r={type:"messaging",member_count:2,members:{$eq:[n.user.id,n.userID]}},e.next=4,n.queryChannels(r);case 4:if(l=e.sent,d=Object(i.a)(l,1),!(o=d[0])){e.next=9;break}return e.abrupt("return",a(o));case 9:return j=n.channel("messaging",{members:[s.id,n.userID]}),c(j),e.abrupt("return",a(j));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.channel,n=e.focusedId,a=e.type,s=e.setChannel,c=e.setToggleContainer,r=Object(u.b)(),i=r.client,l=r.setActiveChannel;return"channel"===a?Object(v.jsxs)("div",{onClick:function(){s(t),c&&c((function(e){return!e}))},className:n===t.id?"channel-search__result-container__focused":"channel-search__result-container",children:[Object(v.jsx)("div",{className:"result-hashtag",children:"#"}),Object(v.jsx)("p",{className:"channel-search__result-text",children:t.data.name})]}):Object(v.jsx)("div",{onClick:Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({client:i,setActiveChannel:l,channel:t,setChannel:s}),c&&c((function(e){return!e}));case 2:case"end":return e.stop()}}),e)}))),className:n===t.id?"channel-search__result-container__focused":"channel-search__result-container",children:Object(v.jsxs)("div",{className:"channel-search__result-user",children:[Object(v.jsx)(g.a,{image:t.image||void 0,name:t.name,size:24}),Object(v.jsx)("p",{className:"channel-search__result-text",children:t.name||t.id})]})})},_=function(e){var t=e.teamChannels,n=e.directChannels,a=e.focusedId,s=e.loading,c=e.setChannel,r=e.setToggleContainer;return Object(v.jsxs)("div",{className:"channel-search__results",children:[Object(v.jsx)("p",{className:"channel-search__results-header",children:"Channels"}),s&&!t.length&&Object(v.jsx)("p",{className:"channel-search__results-header",children:Object(v.jsx)("i",{children:"Loading..."})}),s||t.length?null===t||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(C,{channel:e,focusedId:a,setChannel:c,type:"channel",setToggleContainer:r},t)})):Object(v.jsx)("p",{className:"channel-search__results-header",children:Object(v.jsx)("i",{children:"No channels found"})}),Object(v.jsx)("p",{className:"channel-search__results-header",children:"Users"}),s&&!n.length&&Object(v.jsx)("p",{className:"channel-search__results-header",children:Object(v.jsx)("i",{children:"Loading..."})}),s||n.length?null===n||void 0===n?void 0:n.map((function(e,t){return Object(v.jsx)(C,{channel:e,focusedId:a,setChannel:c,type:"user",setToggleContainer:r},t)})):Object(v.jsx)("p",{className:"channel-search__res ults-header",children:Object(v.jsx)("i",{children:"No direct messages found"})})]})},N=function(e){var t=e.setToggleContainer,n=Object(u.b)(),s=n.client,c=n.setActiveChannel,r=Object(a.useState)(""),l=Object(i.a)(r,2),d=l[0],o=l[1],j=Object(a.useState)(!1),h=Object(i.a)(j,2),b=h[0],m=h[1],g=Object(a.useState)([]),f=Object(i.a)(g,2),C=f[0],N=f[1],w=Object(a.useState)([]),I=Object(i.a)(w,2),y=I[0],L=I[1];Object(a.useEffect)((function(){d||(N([]),L([]))}),[d]);var A=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,c,r,l,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.queryChannels({type:"team",name:{$autocomplete:t},members:{$in:[s.userID]}}),a=s.queryUsers({id:{$ne:s.userID},name:{$autocomplete:t}}),e.next=5,Promise.all([n,a]);case 5:c=e.sent,r=Object(i.a)(c,2),l=r[0],d=r[1].users,l.length&&N(l),d.length&&L(d),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o("");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"channel-search__container",children:[Object(v.jsxs)("div",{className:"channel-search__input__wrapper",children:[Object(v.jsx)("div",{className:"channel-serach__input__icon",children:Object(v.jsx)(x.a,{})}),Object(v.jsx)("input",{className:"channel-search__input__text",placeholder:"Search",type:"text",value:d,onChange:function(e){e.preventDefault(),m(!0),o(e.target.value),A(e.target.value)}})]}),d&&Object(v.jsx)(_,{teamChannels:C,directChannels:y,loading:b,setChannel:function(e){o(""),c(e)},setQuery:o,setToggleContainer:t})]})},w=function(e){var t=e.setCreateType,n=e.setIsCreating,a=e.setIsEditing,s=e.setToggleContainer,c=e.type;return Object(v.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t(c),n((function(e){return!e})),a(!1),s&&s((function(e){return!e}))},children:Object(v.jsx)("path",{d:"M7 0C3.13438 0 0 3.13438 0 7C0 10.8656 3.13438 14 7 14C10.8656 14 14 10.8656 14 7C14 3.13438 10.8656 0 7 0ZM11 7.5H7.5V11H6.5V7.5H3V6.5H6.5V3H7.5V6.5H11V7.5Z",fill:"white",fillOpacity:"0.66"})})},I=function(e){var t=e.setToggleContainer,n=e.children,a=e.error,s=void 0!==a&&a,c=e.loading,r=e.type,i=e.isCreating,l=e.setIsCreating,d=e.setCreateType,o=e.setIsEditing;return s?"team"===r?Object(v.jsx)("div",{className:"team-channel-list",children:Object(v.jsx)("p",{className:"team-channel-list__message",children:"Connection error, please try again later."})}):null:c?Object(v.jsx)("div",{className:"team-channel-list",children:Object(v.jsxs)("p",{className:"team-channel-list__message loading",children:["team"===r?"Channels":"Messages"," loading..."]})}):Object(v.jsxs)("div",{className:"team-channel-list",children:[Object(v.jsxs)("div",{className:"team-channel-list__header",children:[Object(v.jsx)("p",{className:"team-channel-list__header__title",children:"team"===r?"Channels":"Direct Messages"}),Object(v.jsx)(w,{isCreating:i,setIsCreating:l,setCreateType:d,setIsEditing:o,type:"team"===r?"team":"messaging",setToggleContainer:t})]}),n]})},y=function(e){var t=e.setActiveChannel,n=e.setIsCreating,a=e.setIsEditing,s=e.setToggleContainer,c=e.channel,r=e.type,i=Object(u.b)(),l=i.channel,d=i.client,o=function(){var e,t;return Object(v.jsxs)("p",{className:"channel-preview__item",children:["# ",(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.name)||(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.id)]})},j=function(){var e,t,n,a,s,r,i,l,o,j,u=Object.values(c.state.members).filter((function(e){return e.user.id!==d.userID}));return Object(v.jsxs)("div",{className:"channel-preview__item single",children:[Object(v.jsx)(g.a,{image:null===(e=u[0])||void 0===e||null===(t=e.user)||void 0===t?void 0:t.image,name:(null===(n=u[0])||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name)||(null===(s=u[0])||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id),size:24}),Object(v.jsx)("p",{children:(null===(i=u[0])||void 0===i||null===(l=i.user)||void 0===l?void 0:l.name)||(null===(o=u[0])||void 0===o||null===(j=o.user)||void 0===j?void 0:j.id)})]})};return Object(v.jsx)("div",{className:(null===c||void 0===c?void 0:c.id)===(null===l||void 0===l?void 0:l.id)?"channel-preview__wrapper__selected":"channel-preview__wrapper",onClick:function(){n(!1),a(!1),t(c),s&&s((function(e){return!e}))},children:"team"===r?Object(v.jsx)(o,{}):Object(v.jsx)(j,{})})},L=n.p+"static/media/AxisTextLogo.ba0e98e1.png",A=new o.a,k=function(e){var t=e.logout;return Object(v.jsxs)("div",{className:"channel-list__sidebar",children:[Object(v.jsx)("div",{className:"channel-list__sidebar__icon1",children:Object(v.jsx)("div",{className:"icon1__inner",children:Object(v.jsx)("img",{src:b,alt:"Axis",width:"50",height:"50"})})}),Object(v.jsx)("div",{className:"channel-list__sidebar__icon2",children:Object(v.jsx)("div",{className:"icon1__inner",onClick:t,children:Object(v.jsx)("img",{src:"data:image/png;base64,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",alt:"Logout",width:"30",height:"30"})})})]})},U=function(){return Object(v.jsx)("div",{className:"channel-list__header",children:Object(v.jsx)("img",{src:L,alt:"Logo",className:"channel-list__header__text"})})},M=function(e){return e.filter((function(e){return"team"===e.type}))},S=function(e){return e.filter((function(e){return"messaging"===e.type}))},R=function(e){var t=e.isCreating,n=e.setIsCreating,a=e.setCreateType,s=e.setIsEditing,c=e.setToggleContainer,r={members:{$in:[Object(u.b)().client.userID]}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{logout:function(){A.remove("token"),A.remove("userId"),A.remove("username"),A.remove("fullName"),A.remove("avatarURL"),A.remove("hashedPassword"),A.remove("phoneNumber"),window.location.reload()}}),Object(v.jsxs)("div",{className:"channel-list__list__wrapper",children:[Object(v.jsx)(U,{}),Object(v.jsx)(N,{setToggleContainer:c}),Object(v.jsx)(h.a,{filters:r,channelRenderFilterFn:M,List:function(e){return Object(v.jsx)(I,Object(j.a)(Object(j.a)({},e),{},{type:"team",isCreating:t,setIsCreating:n,setCreateType:a,setIsEditing:s,setToggleContainer:c}))},Preview:function(e){return Object(v.jsx)(y,Object(j.a)(Object(j.a)({},e),{},{setIsCreating:n,setIsEditing:s,setToggleContainer:c,type:"team"}))}}),Object(v.jsx)(h.a,{filters:r,channelRenderFilterFn:S,List:function(e){return Object(v.jsx)(I,Object(j.a)(Object(j.a)({},e),{},{type:"messaging",isCreating:t,setIsCreating:n,setCreateType:a,setIsEditing:s,setToggleContainer:c}))},Preview:function(e){return Object(v.jsx)(y,Object(j.a)(Object(j.a)({},e),{},{setIsCreating:n,setIsEditing:s,setToggleContainer:c,type:"messaging"}))}})]})]})},T=function(e){var t=e.setCreateType,n=e.setIsCreating,s=e.setIsEditing,c=Object(a.useState)(!0),r=Object(i.a)(c,2),l=r[0],d=r[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"channel-list__container",children:Object(v.jsx)(R,{setIsCreating:n,setCreateType:t,setIsEditing:s})}),Object(v.jsxs)("div",{className:"channel-list__container-responsive",style:{left:l?"0%":"-89%",backgroundColor:"#FA2D48"},children:[Object(v.jsx)(R,{setIsCreating:n,setCreateType:t,setIsEditing:s,setToggleContainer:d}),Object(v.jsx)("div",{className:"channel-list__container-toggle",onClick:function(){return d((function(e){return!e}))},children:Object(v.jsx)("div",{className:"channel-list__container-toggle-button"})})]})]})},E=n(577),Y=n(582),D=n(12),Z=n(557),B=n(241),V=n(240),H=n(579),F=n(9),J=function(){return Object(v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M8.16602 6.49837H9.83269V4.83171H8.16602V6.49837ZM8.99936 15.665C5.32351 15.665 2.33268 12.6743 2.33268 8.99833C2.33268 5.32253 5.32351 2.33171 8.99936 2.33171C12.6752 2.33171 15.666 5.32253 15.666 8.99833C15.666 12.6743 12.6752 15.665 8.99936 15.665ZM8.99936 0.665039C4.39684 0.665039 0.666016 4.39587 0.666016 8.99833C0.666016 13.6009 4.39684 17.3317 8.99936 17.3317C13.6019 17.3317 17.3327 13.6009 17.3327 8.99833C17.3327 4.39587 13.6019 0.665039 8.99936 0.665039ZM8.16602 13.165H9.83269V8.165H8.16602V13.165Z",fill:"black",fillOpacity:"0.33"})})},q=s.a.createContext({}),G=function(e){var t,n=e.setIsEditing,a=Object(F.b)(),s=a.channel,c=a.watcher_count,r=Object(u.b)().client,i=function(){var e=Object.values(s.state.members).filter((function(e){return e.user.id!==r.userID})),t=e.length-3;return"messaging"===s.type?Object(v.jsxs)("div",{className:"team-channel-header__name-wrapper",children:[e.map((function(e,t){var n=e.user;return Object(v.jsxs)("div",{className:"team-channel-header__name-multi",children:[Object(v.jsx)(g.a,{image:n.image,name:n.id,size:32}),Object(v.jsx)("p",{className:"team-channel-header__name user",children:n.name||n.id})]},t)})),t>0&&Object(v.jsxs)("p",{className:"team-channel-header__name user",children:["and ",t," more"]})]}):Object(v.jsxs)("div",{className:"team-channel-header__channel-wrapper",children:[Object(v.jsxs)("p",{className:"team-channel-header__name",children:["# ",s.data.name]}),Object(v.jsx)("span",{style:{display:"flex"},onClick:function(){return n(!0)},children:Object(v.jsx)(J,{})})]})};return Object(v.jsxs)("div",{className:"team-channel-header__container",children:[Object(v.jsx)(i,{}),Object(v.jsx)("div",{className:"team-channel-header__right",children:Object(v.jsx)("p",{className:"team-channel-header__right-text",children:(t=c,t?1===t?"1 user online":"".concat(t," users online"):"No users online")})})]})},z=function(e){var t=e.setIsEditing,n=Object(a.useState)(!1),s=Object(i.a)(n,2),c=s[0],r=s[1],l=Object(D.b)().sendMessage;return Object(v.jsx)(q.Provider,{value:{giphyState:c,setGiphyState:r},children:Object(v.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(G,{setIsEditing:t}),Object(v.jsx)(B.a,{}),Object(v.jsx)(V.a,{overrideSubmitHandler:function(e){var t,n={attachments:e.attachments,mentioned_users:e.mentioned_users,parent_id:null===(t=e.parent)||void 0===t?void 0:t.id,parent:e.parent,text:e.text};c&&(n=Object(j.a)(Object(j.a)({},n),{},{text:"/giphy ".concat(e.text)})),l&&(l(n),r(!1))}})]}),Object(v.jsx)(H.a,{})]})})},K=n(223),Q=function(){return Object(v.jsx)("div",{style:{marginLeft:"2px"},children:Object(v.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M14 0C6.26875 0 0 6.26875 0 14C0 21.7313 6.26875 28 14 28C21.7313 28 28 21.7313 28 14C28 6.26875 21.7313 0 14 0ZM21.1812 9.31875L12.4875 20.475C12.4187 20.5438 12.3062 20.6938 12.1687 20.6938C12.025 20.6938 11.9313 20.5938 11.85 20.5125C11.7688 20.4313 6.91875 15.7687 6.91875 15.7687L6.825 15.675C6.7875 15.6187 6.75625 15.55 6.75625 15.475C6.75625 15.4 6.7875 15.3312 6.825 15.275C6.85 15.25 6.86875 15.2313 6.89375 15.2C7.375 14.6938 8.35 13.6687 8.4125 13.6062C8.49375 13.525 8.5625 13.4187 8.7125 13.4187C8.86875 13.4187 8.96875 13.55 9.04375 13.625C9.11875 13.7 11.8562 16.3312 11.8562 16.3312L18.8125 7.39375C18.875 7.34375 18.95 7.30625 19.0312 7.30625C19.1125 7.30625 19.1875 7.3375 19.25 7.3875L21.1625 8.89375C21.2125 8.95625 21.2437 9.03125 21.2437 9.1125C21.25 9.19375 21.2188 9.2625 21.1812 9.31875Z",fill:"#1D9D67"})})})},X=function(e){var t=e.children;return Object(v.jsxs)("div",{className:"user-list__container",children:[Object(v.jsxs)("div",{className:"user-list__header",children:[Object(v.jsx)("p",{children:"User"}),Object(v.jsx)("p",{children:"Invite"})]}),t]})},P=function(e){var t=e.user,n=e.setSelectedUsers,s=Object(a.useState)(!1),c=Object(i.a)(s,2),r=c[0],l=c[1];return Object(v.jsxs)("div",{className:"user-item__wrapper",onClick:function(){n(r?function(e){return e.filter((function(e){return e!==t.id}))}:function(e){return[].concat(Object(K.a)(e),[t.id])}),l((function(e){return!e}))},children:[Object(v.jsxs)("div",{className:"user-item__name-wrapper",children:[Object(v.jsx)(g.a,{image:t.image,name:t.id,size:32}),Object(v.jsx)("p",{className:"user-item__name",children:t.name||t.id})]}),r?Object(v.jsx)(Q,{}):Object(v.jsx)("div",{className:"user-item__invite-empty"})]})},W=function(e){var t=e.setSelectedUsers,n=Object(u.b)().client,s=Object(a.useState)([]),c=Object(i.a)(s,2),r=c[0],l=c[1],d=Object(a.useState)(!1),o=Object(i.a)(d,2),j=o[0],h=o[1],b=Object(a.useState)(!1),m=Object(i.a)(b,2),x=m[0],g=m[1],f=Object(a.useState)(!1),C=Object(i.a)(f,2),_=C[0],N=C[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,e.next=6,n.queryUsers({id:{$ne:n.userID}},{id:1},{limit:8});case 6:(t=e.sent).users.length?l(t.users):g(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N(!0);case 13:h(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();n&&e()}),[]),_?Object(v.jsx)(X,{children:Object(v.jsx)("div",{className:"user-list__message",children:"Error loading, please refresh and try again."})}):x?Object(v.jsx)(X,{children:Object(v.jsx)("div",{className:"user-list__message",children:"No users found."})}):Object(v.jsx)(X,{children:j?Object(v.jsx)("div",{className:"user-list__message",children:"Loading users..."}):null===r||void 0===r?void 0:r.map((function(e,n){return Object(v.jsx)(P,{index:n,user:e,setSelectedUsers:t},e.id)}))})},$=function(e){var t=e.setIsCreating,n=e.setIsEditing;return Object(v.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t&&t(!1),n&&n(!1)},children:Object(v.jsx)("path",{d:"M6.10042 6.10051C0.633603 11.5673 0.633603 20.4327 6.10042 25.8995C11.5672 31.3663 20.4326 31.3663 25.8994 25.8995C31.3662 20.4327 31.3662 11.5673 25.8994 6.10051C20.4326 0.633686 11.5672 0.633685 6.10042 6.10051ZM22.3639 11.0503L17.4141 16L22.3639 20.9497L20.9497 22.364L15.9999 17.4142L11.0502 22.364L9.63596 20.9497L14.5857 16L9.63596 11.0503L11.0502 9.63604L15.9999 14.5858L20.9497 9.63604L22.3639 11.0503Z",fill:"var(--primary-color)"})})},ee=function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(v.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(v.jsx)("p",{children:"Channel Name"}),Object(v.jsx)("input",{value:n,onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"no-spaces..."}),Object(v.jsx)("p",{children:"Add Members"})]})},te=function(e){var t=e.createType,n=e.setIsCreating,s=Object(u.b)(),c=s.client,r=s.setActiveChannel,l=Object(a.useState)([c.userID||""]),d=Object(i.a)(l,2),o=d[0],j=d[1],h=Object(a.useState)(""),b=Object(i.a)(h,2),m=b[0],x=b[1],g=function(){var e=Object(p.a)(O.a.mark((function e(a){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,c.channel(t,m,{name:m,members:o});case 4:return s=e.sent,e.next=7,s.watch();case 7:x(""),n(!1),j([c.userID]),r(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"create-channel__container",children:[Object(v.jsxs)("div",{className:"create-channel__header",children:[Object(v.jsx)("p",{children:"team"===t?"Create a New Channel":"Send a Direct Message"}),Object(v.jsx)($,{setIsCreating:n})]}),"team"===t&&Object(v.jsx)(ee,{channelName:m,setChannelName:x}),Object(v.jsx)(W,{setSelectedUsers:j}),Object(v.jsx)("div",{className:"create-channel__button-wrapper",onClick:g,children:Object(v.jsx)("p",{children:"team"===t?"Create Channel":"Create Message Group"})})]})},ne=function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(v.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(v.jsx)("p",{children:"Name"}),Object(v.jsx)("input",{value:n,onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"channel-name"}),Object(v.jsx)("p",{children:"Add Members"})]})},ae=function(e){var t,n=e.setIsEditing,s=Object(u.b)().channel,c=Object(a.useState)(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.name),r=Object(i.a)(c,2),l=r[0],d=r[1],o=Object(a.useState)([]),j=Object(i.a)(o,2),h=j[0],b=j[1],m=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(l!==(s.data.name||s.data.id))){e.next=5;break}return e.next=5,s.update({name:l},{text:"Channel name changed to ".concat(l)});case 5:if(!h.length){e.next=8;break}return e.next=8,s.addMembers(h);case 8:d(null),n(!1),b([]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"edit-channel__container",children:[Object(v.jsxs)("div",{className:"edit-channel__header",children:[Object(v.jsx)("p",{children:"Edit Channel"}),Object(v.jsx)($,{setIsEditing:n})]}),Object(v.jsx)(ne,{channelName:l,setChannelName:d}),Object(v.jsx)(W,{setSelectedUsers:b}),Object(v.jsx)("div",{className:"edit-channel__button-wrapper",onClick:m,children:Object(v.jsx)("p",{children:"Save Changes"})})]})},se=(n(15),function(e){var t=e.isCreating,n=e.setIsCreating,a=e.isEditing,s=e.setIsEditing,c=e.createType;Object(u.b)().channel;if(t)return Object(v.jsx)("div",{className:"channel__container",children:Object(v.jsx)(te,{createType:c,setIsCreating:n})});if(a)return Object(v.jsx)("div",{className:"channel__container",children:Object(v.jsx)(ae,{setIsEditing:s})});return Object(v.jsx)("div",{className:"channel__container",children:Object(v.jsx)(E.a,{EmptyStateIndicator:function(){return Object(v.jsxs)("div",{className:"channel-empty__container",children:[Object(v.jsx)("p",{className:"channel-empty__first",children:"This is the beginning of your chat history."}),Object(v.jsx)("p",{className:"channel-empty__second",children:"Send messages, attachments, links, emojis, and more!"})]})},Message:function(e,t){return Object(v.jsx)(Y.a,Object(j.a)({},e),t)},children:Object(v.jsx)(z,{setIsEditing:s})})})}),ce=n(96),re=n(236),ie=n.n(re),le=n.p+"static/media/login_img.17df2ac6.svg",de=new o.a,oe={fullName:"",username:"",password:"",confirmPassword:"",avatarURL:"",phoneNumber:""},je=function(){var e=Object(a.useState)(oe),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(i.a)(c,2),l=r[0],d=r[1],o=function(e){s(Object(j.a)(Object(j.a)({},n),{},Object(ce.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(p.a)(O.a.mark((function e(t){var a,s,c,r,i,d,o,j,u,h;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.fullName,s=n.username,c=n.password,r=n.phoneNumber,i=n.avatarURL,"https://axis-chat-server.herokuapp.com/auth",e.next=5,ie.a.post("".concat("https://axis-chat-server.herokuapp.com/auth","/").concat(l?"signup":"login"),{username:s,password:c,fullName:n.fullName,phoneNumber:r,avatarURL:i});case 5:d=e.sent,o=d.data,j=o.token,u=o.userId,h=o.hashedPassword,de.set("token",j),de.set("username",s),de.set("fullName",a),de.set("userId",u),l&&(de.set("phoneNumber",r),de.set("avatarURL",i),de.set("hashedPassword",h)),window.location.reload();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"auth__form-container",children:[Object(v.jsx)("div",{className:"auth__form-container_image",children:Object(v.jsx)("img",{src:le,alt:"Chat"})}),Object(v.jsx)("div",{className:"auth__form-container_fields",children:Object(v.jsxs)("div",{className:"auth__form-container_fields-content",children:[Object(v.jsx)("p",{children:l?"Sign Up":"Login"}),Object(v.jsxs)("form",{onSubmit:u,children:[l&&Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",onChange:o,required:!0})}),Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"text",name:"username",placeholder:"Username (what others will see)",onChange:o,required:!0})}),Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:o,required:!0})}),l&&Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:o,required:!0})}),l&&Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"text",name:"avatarURL",placeholder:"URL for avatar image",onChange:o})}),l&&Object(v.jsx)("div",{className:"auth__form-container_fields-content_input",children:Object(v.jsx)("input",{type:"phone",name:"phoneNumber",placeholder:"Phone Number",onChange:o,required:!0})}),Object(v.jsx)("div",{className:"auth__form-container_fields-content_button",children:Object(v.jsx)("button",{type:"submit",children:l?"Register":"Sign in"})})]}),Object(v.jsx)("div",{className:"auth__form-container_fields-account",children:Object(v.jsxs)("p",{children:[l?"Already have an account?":"Don't have an account?",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{onClick:function(){d((function(e){return!e}))},children:l?"Login":"Sign Up"})]})})]})})]})},ue=new o.a,he=ue.get("token"),be=l.a.getInstance("a2qc75cau8xn");he&&be.connectUser({id:ue.get("userId"),name:ue.get("username"),fullName:ue.get("fullName"),image:ue.get("avatarURL"),hashedPassword:ue.get("hashedPassword"),phoneNumber:ue.get("phoneNumber")},he);var me=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(a.useState)(!1),u=Object(i.a)(j,2),h=u[0],b=u[1];return he?Object(v.jsx)("div",{className:"app__wrapper",children:Object(v.jsxs)(d.a,{client:be,theme:"team dark",children:[Object(v.jsx)(T,{isCreating:l,setIsCreating:o,setCreateType:s,setIsEditing:b}),Object(v.jsx)(se,{isCreating:l,setIsCreating:o,isEditing:h,setIsEditing:b,createType:n})]})}):Object(v.jsx)(je,{})};r.a.render(Object(v.jsx)(me,{}),document.getElementById("root"))}},[[541,1,2]]]);
//# sourceMappingURL=main.da8eadc6.chunk.js.map